<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
    <title>DScribe - Notensatzprogramm</title>
    <link rel="stylesheet" href="css/main.css">
    <!-- VexFlow Library -->
    <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.2/build/cjs/vexflow.js"></script>
</head>
<body>
    <div id="app">
        <!-- Toolbar -->
        <div id="toolbar">
            <div class="toolbar-section">
                <button id="btn-new" class="toolbar-btn" title="Neues Projekt">
                    <span class="icon">ğŸ“„</span>
                </button>
                <button id="btn-open" class="toolbar-btn" title="Ã–ffnen">
                    <span class="icon">ğŸ“</span>
                </button>
                <button id="btn-save" class="toolbar-btn" title="Speichern">
                    <span class="icon">ğŸ’¾</span>
                </button>
            </div>
            
            <div class="toolbar-separator"></div>
            
            <div class="toolbar-section">
                <button id="btn-undo" class="toolbar-btn" title="RÃ¼ckgÃ¤ngig">
                    <span class="icon">â†¶</span>
                </button>
                <button id="btn-redo" class="toolbar-btn" title="Wiederherstellen">
                    <span class="icon">â†·</span>
                </button>
            </div>
            
            <div class="toolbar-separator"></div>
            
            <div class="toolbar-section">
                <button id="btn-zoom-out" class="toolbar-btn" title="Verkleinern">
                    <span class="icon">ğŸ”-</span>
                </button>
                <span id="zoom-level" class="zoom-display">100%</span>
                <button id="btn-zoom-in" class="toolbar-btn" title="VergrÃ¶ÃŸern">
                    <span class="icon">ğŸ”+</span>
                </button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div id="main-content">
            <!-- Left Palette Panel -->
            <div id="left-palette" class="palette-panel">
                <div class="palette-section">
                    <h3>Notenwerte</h3>
                    <div class="palette-items">
                        <button class="palette-btn" data-note="whole" title="Ganze Note">ğ…</button>
                        <button class="palette-btn" data-note="half" title="Halbe Note">ğ…—ğ…¥</button>
                        <button class="palette-btn active" data-note="quarter" title="Viertel Note">â™©</button>
                        <button class="palette-btn" data-note="eighth" title="Achtel Note">â™ª</button>
                        <button class="palette-btn" data-note="sixteenth" title="Sechzehntel Note">ğ…˜ğ…¥ğ…¯</button>
                        <button class="palette-btn" data-note="thirtysecond" title="32tel Note">ğ…˜ğ…¥ğ…°</button>
                        <button class="palette-btn" data-note="sixtyfourth" title="64tel Note">ğ…˜ğ…¥ğ…±</button>
                    </div>
                </div>

                <div class="palette-section">
                    <h3>Pausen</h3>
                    <div class="palette-items">
                        <button class="palette-btn" data-rest="whole" title="Ganze Pause">ğ„»</button>
                        <button class="palette-btn" data-rest="half" title="Halbe Pause">ğ„¼</button>
                        <button class="palette-btn" data-rest="quarter" title="Viertel Pause">ğ„½</button>
                        <button class="palette-btn" data-rest="eighth" title="Achtel Pause">ğ„¾</button>
                        <button class="palette-btn" data-rest="sixteenth" title="Sechzehntel Pause">ğ„¿</button>
                        <button class="palette-btn" data-rest="thirtysecond" title="32tel Pause">ğ…€</button>
                    </div>
                </div>

                <div class="palette-section">
                    <h3>Vorzeichen</h3>
                    <div class="palette-items">
                        <button class="palette-btn" data-accidental="sharp" title="Kreuz">â™¯</button>
                        <button class="palette-btn" data-accidental="flat" title="B">â™­</button>
                        <button class="palette-btn" data-accidental="natural" title="AuflÃ¶sungszeichen">â™®</button>
                    </div>
                </div>

                <div class="palette-section">
                    <h3>SchlÃ¼ssel</h3>
                    <div class="palette-items">
                        <button class="palette-btn" data-clef="treble" title="ViolinschlÃ¼ssel">ğ„</button>
                        <button class="palette-btn" data-clef="bass" title="BassschlÃ¼ssel">ğ„¢</button>
                        <button class="palette-btn" data-clef="alto" title="AltschlÃ¼ssel">ğ„¡</button>
                    </div>
                </div>
            </div>

            <!-- Score Canvas -->
            <div id="score-container">
                <div id="score-header">
                    <h2 id="score-title-display" contenteditable="true">Unbenannt</h2>
                    <p id="score-composer-display" contenteditable="true">Komponist</p>
                </div>
                <div id="score-canvas"></div>
                <div id="score-controls">
                    <button id="btn-add-note" class="score-control-btn">Note hinzufÃ¼gen (C4)</button>
                    <button id="btn-add-rest" class="score-control-btn">Pause hinzufÃ¼gen</button>
                    <button id="btn-add-measure" class="score-control-btn">Takt hinzufÃ¼gen</button>
                </div>
            </div>

            <!-- Right Properties Panel -->
            <div id="right-panel" class="palette-panel">
                <div class="palette-section">
                    <h3>Eigenschaften</h3>
                    <div id="properties-content">
                        <p class="placeholder-text">WÃ¤hlen Sie ein Element aus</p>
                    </div>
                </div>

                <div class="palette-section">
                    <h3>Projekt-Info</h3>
                    <div class="project-info">
                        <div class="info-item">
                            <label>Titel:</label>
                            <input type="text" id="project-title" placeholder="Unbenannt">
                        </div>
                        <div class="info-item">
                            <label>Komponist:</label>
                            <input type="text" id="project-composer" placeholder="">
                        </div>
                        <div class="info-item">
                            <label>Tonart:</label>
                            <select id="project-key">
                                <option value="C">C-Dur</option>
                                <option value="G">G-Dur (1â™¯)</option>
                                <option value="D">D-Dur (2â™¯)</option>
                                <option value="A">A-Dur (3â™¯)</option>
                                <option value="E">E-Dur (4â™¯)</option>
                                <option value="B">H-Dur (5â™¯)</option>
                                <option value="F#">Fâ™¯-Dur (6â™¯)</option>
                                <option value="C#">Câ™¯-Dur (7â™¯)</option>
                                <option value="F">F-Dur (1â™­)</option>
                                <option value="Bb">B-Dur (2â™­)</option>
                                <option value="Eb">Es-Dur (3â™­)</option>
                                <option value="Ab">As-Dur (4â™­)</option>
                                <option value="Db">Des-Dur (5â™­)</option>
                                <option value="Gb">Ges-Dur (6â™­)</option>
                                <option value="Cb">Ces-Dur (7â™­)</option>
                            </select>
                        </div>
                        <div class="info-item">
                            <label>Taktart:</label>
                            <select id="project-time">
                                <option value="4/4">4/4</option>
                                <option value="3/4">3/4</option>
                                <option value="2/4">2/4</option>
                                <option value="6/8">6/8</option>
                                <option value="3/8">3/8</option>
                                <option value="5/4">5/4</option>
                                <option value="7/8">7/8</option>
                            </select>
                        </div>
                        <div class="info-item">
                            <label>Tempo (BPM):</label>
                            <input type="number" id="project-tempo" value="120" min="20" max="300">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transport Controls -->
        <div id="transport">
            <div class="transport-controls">
                <button id="btn-rewind" class="transport-btn" title="Zum Anfang">â®</button>
                <button id="btn-prev" class="transport-btn" title="Vorheriger Takt">âª</button>
                <button id="btn-play" class="transport-btn transport-btn-main" title="Abspielen">â–¶</button>
                <button id="btn-stop" class="transport-btn" title="Stop">â¹</button>
                <button id="btn-next" class="transport-btn" title="NÃ¤chster Takt">â©</button>
            </div>
            
            <div class="transport-info">
                <span id="playback-time">00:00</span>
                <span class="separator">/</span>
                <span id="playback-duration">00:00</span>
            </div>
            
            <div class="transport-settings">
                <label>
                    <input type="checkbox" id="metronome-toggle">
                    Metronom
                </label>
                <label>Tempo:</label>
                <input type="number" id="tempo-input" value="120" min="20" max="300" class="tempo-input">
                <label>BPM</label>
            </div>
            
            <div class="transport-instrument">
                <label>Instrument:</label>
                <select id="instrument-select" class="instrument-select">
                    <option value="piano" selected>Piano</option>
                    <option value="organ">Organ</option>
                    <option value="guitar">Guitar</option>
                    <option value="strings">Strings</option>
                    <option value="flute">Flute</option>
                    <option value="brass">Brass</option>
                    <option value="bass">Bass</option>
                </select>
            </div>
            
            <div class="transport-volume">
                <label>ğŸ”Š</label>
                <input type="range" id="volume-slider" min="0" max="100" value="70" class="volume-slider">
                <span id="volume-display">70%</span>
            </div>
        </div>

        <!-- Status Bar -->
        <div id="status-bar">
            <span id="status-text">Bereit</span>
            <span id="autosave-status">Autosave: aktiviert</span>
            <span id="version-info">v12.0.0</span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/notation-engine.js"></script>
    <script src="js/playback-engine.js"></script>
</body>
</html>
